from __future__ import annotations

from bot.config import Settings


def build_welcome_text(settings: Settings) -> str:
    return (
        "<b>BlackBox GPT</b> — твой универсальный ИИ-ассистент.\n\n"
        "• Пиши мне любые вопросы: от медицины и бизнеса до креатива и личного роста.\n"
        "• Используй нижнее меню, чтобы переключать режимы, смотреть профиль и подписку.\n\n"
        f"Твой персональный инвайт-линк появится в разделе «Рефералы».\n"
        f"Бот: <code>{settings.BOT_USERNAME}</code>"
    )


PROFILE_TEMPLATE = (
    "<b>Профиль</b>\n\n"
    "ID: <code>{telegram_id}</code>\n"
    "Юзернейм: @{username}\n"
    "Тариф: <b>{tier}</b>\n"
    "Текущий режим: <b>{mode}</b>\n"
    "Сообщений сегодня: <b>{used}/{limit}</b>\n"
    "Рефералов: <b>{referrals}</b>\n\n"
    "Твоя ссылка: <code>{ref_link}</code>"
)


SUBSCRIPTION_TEXT = (
    "<b>Подписка</b>\n\n"
    "Free — 30 сообщений в день\n"
    "Pro — 200 сообщений в день\n"
    "VIP — 1000 сообщений в день\n\n"
    "Оплата и автопродление подписки через крипту будут добавлены позже.\n"
    "Сейчас смена тарифа — через админа или вручную."
)


REFERRALS_TEXT = (
    "<b>Рефералы</b>\n\n"
    "Приглашай друзей по своей ссылке.\n"
    "В будущем реферальная программа даст тебе бонусы к лимитам и подписке.\n\n"
    "Рефералов: <b>{referrals}</b>\n"
    "Твоя ссылка: <code>{ref_link}</code>"
)


LIMIT_REACHED_TEXT = (
    "<b>Лимит исчерпан</b>\n\n"
    "Ты достиг дневного лимита сообщений для тарифа <b>{tier}</b>.\n"
    "Использовано: <b>{used}/{limit}</b>.\n\n"
    "Попробуй позже или апгрейдни тариф у админа."
)
